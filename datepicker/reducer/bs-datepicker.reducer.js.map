{"version":3,"sources":["../../../.tmp/datepicker/reducer/bs-datepicker.reducer.ts"],"names":[],"mappings":"AAAA,qCAAqC;AACrC,OAAO,EAAqB,sBAAsB,EAAE,MAAM,uBAAuB,CAAC;AAElF,OAAO,EAAE,mBAAmB,EAAE,MAAM,yBAAyB,CAAC;AAC9D,OAAO,EAAE,gBAAgB,EAAE,MAAM,8BAA8B,CAAC;AAChE,OAAO,EAAE,kBAAkB,EAAE,MAAM,gCAAgC,CAAC;AACpE,OAAO,EAAE,gBAAgB,EAAE,MAAM,8BAA8B,CAAC;AAChE,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,kCAAkC,CAAC;AAC1E,OAAO,EAAE,aAAa,EAAE,MAAM,qBAAqB,CAAC;AACpD,OAAO,EAAE,oBAAoB,EAAE,MAAM,kCAAkC,CAAC;AACxE,OAAO,EAAE,kBAAkB,EAAE,MAAM,gCAAgC,CAAC;AACpE,OAAO,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,MAAM,iCAAiC,CAAC;AACxF,OAAO,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAC;AAElE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AACvE,OAAO,EAAE,OAAO,EAAE,MAAM,kCAAkC,CAAC;AAC3D,OAAO,EAAE,SAAS,EAAE,MAAM,8BAA8B,CAAC;AACzD,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,kCAAkC,CAAC;AAErE,MAAM,8BAA8B,KAA8B,EAC9B,MAAc;IADd,sBAAA,EAAA,8BAA8B;IAEhE,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACpB,KAAK,mBAAmB,CAAC,SAAS,EAAE,CAAC;YACnC,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC;QAED,KAAK,mBAAmB,CAAC,MAAM,EAAE,CAAC;YAChC,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACtC,CAAC;QAED,KAAK,mBAAmB,CAAC,IAAI,EAAE,CAAC;YAC9B,MAAM,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACpC,CAAC;QAED,KAAK,mBAAmB,CAAC,eAAe,EAAE,CAAC;YACzC,IAAM,IAAI,GAAG,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;YAC1E,IAAM,QAAQ,GAAG;gBACf,IAAI,EAAE;oBACJ,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI;oBACrB,IAAI,MAAA;iBACL;aACF,CAAC;YAEF,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,KAAK,mBAAmB,CAAC,WAAW,EAAE,CAAC;YACrC,IAAM,OAAO,GAA0B,MAAM,CAAC,OAAO,CAAC;YAEtD,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;YACxD,IAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC;YAC9B,IAAM,QAAQ,GAAG,EAAE,IAAI,EAAE,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,EAAE,CAAC;YAE1C,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,KAAK,mBAAmB,CAAC,eAAe,EAAE,CAAC;YACzC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACnC,MAAM,CAAC,KAAK,CAAC;YACf,CAAC;YACD,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAM,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC;YAC5B,IAAM,QAAQ,GAAG,EAAE,IAAI,EAAE,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,EAAE,CAAC;YAE1C,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,KAAK,mBAAmB,CAAC,KAAK,EAAE,CAAC;YAC/B,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;QACnE,CAAC;QAED,KAAK,mBAAmB,CAAC,MAAM,EAAE,CAAC;YAChC,IAAM,QAAQ,GAAG;gBACf,YAAY,EAAE,MAAM,CAAC,OAAO;gBAC5B,IAAI,EAAE,KAAK,CAAC,IAAI;aACjB,CAAC;YAEF,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAM,KAAK,GAAG,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAChD,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YAC9D,QAAQ,CAAC,IAAI,GAAG,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,CAAC;YAE/B,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,KAAK,mBAAmB,CAAC,WAAW,EAAE,CAAC;YACrC,IAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;YAChC,qBAAqB;YACrB,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAM,SAAS,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,KAAK;mBAC1D,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;mBAC9E,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YACrB,IAAM,IAAI,GAAG,WAAW,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;YACxE,QAAQ,CAAC,IAAI,GAAG,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,CAAC;YAC/B,wBAAwB;YACxB,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnB,gDAAgD;gBAChD,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC5B,QAAQ,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC;gBAC1C,CAAC;gBAED,uCAAuC;gBACvC,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,YAAY,IAAI,CAAC,CAAC,CAAC;oBACnC,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC;gBACzC,CAAC;gBAED,qCAAqC;gBACrC,4BAA4B;YAC9B,CAAC;YAED,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,oBAAoB;QACpB,KAAK,mBAAmB,CAAC,YAAY,EAAE,CAAC;YACtC,IAAM,QAAQ,GAAG;gBACf,aAAa,EAAE,MAAM,CAAC,OAAO;gBAC7B,IAAI,EAAE,KAAK,CAAC,IAAI;aACjB,CAAC;YAEF,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAM,KAAK,GAAG,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YACrE,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YAC9D,QAAQ,CAAC,IAAI,GAAG,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,CAAC;YAE/B,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;QAED,KAAK,mBAAmB,CAAC,YAAY,EAAE,CAAC;YACtC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE;gBAC9B,OAAO,EAAE,MAAM,CAAC,OAAO;aACxB,CAAC,CAAC;QACL,CAAC;QACD,KAAK,mBAAmB,CAAC,YAAY,EAAE,CAAC;YACtC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE;gBAC9B,OAAO,EAAE,MAAM,CAAC,OAAO;aACxB,CAAC,CAAC;QACL,CAAC;QACD,KAAK,mBAAmB,CAAC,eAAe,EAAE,CAAC;YACzC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE;gBAC9B,UAAU,EAAE,MAAM,CAAC,OAAO;aAC3B,CAAC,CAAC;QACL,CAAC;QAED;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AAED,0BAA0B,KAAwB;IAChD,qBAAqB;IACrB,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC;IAC1C,gDAAgD;IAChD,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IAE/B,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;QAC9B,KAAK,CAAC,gBAAgB,CAAC,cAAc,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE,CAAC;QACjF,IAAM,WAAW,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;QAC7C,GAAG,CAAC,CAAC,IAAI,UAAU,GAAG,CAAC,EAAE,UAAU,GAAG,aAAa,EAAE,UAAU,EAAE,EAAE,CAAC;YAClE,iDAAiD;YACjD,WAAW,CAAC,UAAU,CAAC,GAAG,gBAAgB,CACxC,QAAQ,EACR,KAAK,CAAC,gBAAgB,CACvB,CAAC;YACF,QAAQ,GAAG,SAAS,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,WAAW,aAAA,EAAE,CAAC,CAAC;IACnD,CAAC;IAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;QAChC,IAAM,cAAc,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;QAChD,GAAG,CAAC,CACF,IAAI,aAAa,GAAG,CAAC,EACrB,aAAa,GAAG,aAAa,EAC7B,aAAa,EAAE,EACf,CAAC;YACD,iDAAiD;YACjD,cAAc,CAAC,aAAa,CAAC,GAAG,oBAAoB,CAClD,QAAQ,EACR,gBAAgB,CAAC,KAAK,CAAC,CACxB,CAAC;YACF,QAAQ,GAAG,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9C,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,cAAc,gBAAA,EAAE,CAAC,CAAC;IACtD,CAAC;IAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;QAC/B,IAAM,kBAAkB,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;QAEpD,GAAG,CAAC,CACF,IAAI,aAAa,GAAG,CAAC,EACrB,aAAa,GAAG,aAAa,EAC7B,aAAa,EAAE,EACf,CAAC;YACD,iDAAiD;YACjD,kBAAkB,CAAC,aAAa,CAAC,GAAG,mBAAmB,CACrD,QAAQ,EACR,gBAAgB,CAAC,KAAK,CAAC,CACxB,CAAC;YACF,QAAQ,GAAG,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC;QAC7D,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,kBAAkB,oBAAA,EAAE,CAAC,CAAC;IAC1D,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC;AAED,uBAAuB,KAAwB,EACxB,MAAc;IACnC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;QAC9B,IAAM,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,UAAU;YAC9D,OAAA,kBAAkB,CAAC,KAAK,EAAE,gBAAgB,CAAC,KAAK,CAAC,EAAE,UAAU,CAAC;QAA9D,CAA8D,CAC/D,CAAC;QAEF,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,eAAe,iBAAA,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,qBAAqB;IACrB,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC;IAC1C,0BAA0B;IAC1B,gDAAgD;IAChD,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IAE/B,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;QAChC,IAAM,cAAc,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;QAChD,GAAG,CAAC,CACF,IAAI,aAAa,GAAG,CAAC,EACrB,aAAa,GAAG,aAAa,EAC7B,aAAa,EAAE,EACf,CAAC;YACD,iDAAiD;YACjD,cAAc,CAAC,aAAa,CAAC,GAAG,oBAAoB,CAClD,QAAQ,EACR,gBAAgB,CAAC,KAAK,CAAC,CACxB,CAAC;YACF,QAAQ,GAAG,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9C,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,cAAc,gBAAA,EAAE,CAAC,CAAC;IACtD,CAAC;IAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;QAC/B,IAAM,kBAAkB,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,CAAC;QACpD,GAAG,CAAC,CACF,IAAI,aAAa,GAAG,CAAC,EACrB,aAAa,GAAG,aAAa,EAC7B,aAAa,EAAE,EACf,CAAC;YACD,iDAAiD;YACjD,kBAAkB,CAAC,aAAa,CAAC,GAAG,mBAAmB,CACrD,QAAQ,EACR,gBAAgB,CAAC,KAAK,CAAC,CACxB,CAAC;YACF,QAAQ,GAAG,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/C,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,kBAAkB,oBAAA,EAAE,CAAC,CAAC;IAC1D,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC;AAED,qBAAqB,KAAwB,EACxB,MAAc;IACjC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;QAC9B,IAAM,aAAa,GAAG,KAAK,CAAC,eAAe,CAAC,GAAG,CAC7C,UAAC,cAAc,EAAE,UAAU;YACzB,OAAA,gBAAgB,CAAC,cAAc,EAAE;gBAC/B,UAAU,EAAE,KAAK,CAAC,UAAU;gBAC5B,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,WAAW,EAAE,KAAK,CAAC,WAAW;gBAC9B,YAAY,EAAE,KAAK,CAAC,YAAY;gBAChC,aAAa,EAAE,KAAK,CAAC,aAAa;gBAClC,aAAa,EAAE,KAAK,CAAC,aAAa;gBAClC,UAAU,YAAA;aACX,CAAC;QATF,CASE,CACL,CAAC;QAEF,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,aAAa,eAAA,EAAE,CAAC,CAAC;IACrD,CAAC;IAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;QAChC,IAAM,qBAAqB,GAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CACpD,UAAC,cAAc,EAAE,UAAU;YACzB,OAAA,kBAAkB,CAAC,cAAc,EAAE;gBACjC,UAAU,EAAE,KAAK,CAAC,UAAU;gBAC5B,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,YAAY,EAAE,KAAK,CAAC,YAAY;gBAChC,aAAa,EAAE,KAAK,CAAC,aAAa;gBAClC,UAAU,YAAA;aACX,CAAC;QAPF,CAOE,CACL,CAAC;QAEF,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,qBAAqB,uBAAA,EAAE,CAAC,CAAC;IAC7D,CAAC;IAED,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;QAC/B,IAAM,oBAAoB,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CACvD,UAAC,cAAc,EAAE,SAAS;YACxB,OAAA,iBAAiB,CAAC,cAAc,EAAE;gBAChC,UAAU,EAAE,KAAK,CAAC,UAAU;gBAC5B,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,OAAO,EAAE,KAAK,CAAC,OAAO;gBACtB,WAAW,EAAE,KAAK,CAAC,WAAW;gBAC9B,aAAa,EAAE,KAAK,CAAC,aAAa;gBAClC,SAAS,WAAA;aACV,CAAC;QAPF,CAOE,CACL,CAAC;QAEF,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,oBAAoB,sBAAA,EAAE,CAAC,CAAC;IAC5D,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC;AAED,0BAA0B,KAAwB;IAChD,MAAM,CAAC;QACL,MAAM,EAAE,KAAK,CAAC,MAAM;QAEpB,UAAU,EAAE,KAAK,CAAC,UAAU;QAC5B,SAAS,EAAE,KAAK,CAAC,SAAS;QAE1B,QAAQ,EAAE,KAAK,CAAC,QAAQ;QACxB,UAAU,EAAE,KAAK,CAAC,UAAU;QAC5B,SAAS,EAAE,KAAK,CAAC,SAAS;QAE1B,WAAW,EAAE,KAAK,CAAC,WAAW;KAC/B,CAAC;AACJ,CAAC;AAED;;;;;GAKG;AACH,qBAAqB,QAAuB,EAAE,OAAa,EAAE,OAAa;IACxE,IAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC;IAE/D,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;QAC9C,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAED,EAAE,CAAC,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/C,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC","file":"bs-datepicker.reducer.js","sourceRoot":"","sourcesContent":["// tslint:disable:max-file-line-count\r\nimport { BsDatepickerState, initialDatepickerState } from './bs-datepicker.state';\r\nimport { Action } from '../../mini-ngrx/index';\r\nimport { BsDatepickerActions } from './bs-datepicker.actions';\r\nimport { calcDaysCalendar } from '../engine/calc-days-calendar';\r\nimport { formatDaysCalendar } from '../engine/format-days-calendar';\r\nimport { flagDaysCalendar } from '../engine/flag-days-calendar';\r\nimport { setFullDate, shiftDate } from '../../chronos/utils/date-setters';\r\nimport { canSwitchMode } from '../engine/view-mode';\r\nimport { formatMonthsCalendar } from '../engine/format-months-calendar';\r\nimport { flagMonthsCalendar } from '../engine/flag-months-calendar';\r\nimport { formatYearsCalendar, yearsPerCalendar } from '../engine/format-years-calendar';\r\nimport { flagYearsCalendar } from '../engine/flag-years-calendar';\r\nimport { BsViewNavigationEvent, DatepickerFormatOptions } from '../models/index';\r\nimport { isArray, isDateValid } from '../../chronos/utils/type-checks';\r\nimport { startOf } from '../../chronos/utils/start-end-of';\r\nimport { getLocale } from '../../chronos/locale/locales';\r\nimport { isAfter, isBefore } from '../../chronos/utils/date-compare';\r\n\r\nexport function bsDatepickerReducer(state = initialDatepickerState,\r\n                                    action: Action): BsDatepickerState {\r\n  switch (action.type) {\r\n    case BsDatepickerActions.CALCULATE: {\r\n      return calculateReducer(state);\r\n    }\r\n\r\n    case BsDatepickerActions.FORMAT: {\r\n      return formatReducer(state, action);\r\n    }\r\n\r\n    case BsDatepickerActions.FLAG: {\r\n      return flagReducer(state, action);\r\n    }\r\n\r\n    case BsDatepickerActions.NAVIGATE_OFFSET: {\r\n      const date = shiftDate(startOf(state.view.date, 'month'), action.payload);\r\n      const newState = {\r\n        view: {\r\n          mode: state.view.mode,\r\n          date\r\n        }\r\n      };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.NAVIGATE_TO: {\r\n      const payload: BsViewNavigationEvent = action.payload;\r\n\r\n      const date = setFullDate(state.view.date, payload.unit);\r\n      const mode = payload.viewMode;\r\n      const newState = { view: { date, mode } };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.CHANGE_VIEWMODE: {\r\n      if (!canSwitchMode(action.payload)) {\r\n        return state;\r\n      }\r\n      const date = state.view.date;\r\n      const mode = action.payload;\r\n      const newState = { view: { date, mode } };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.HOVER: {\r\n      return Object.assign({}, state, { hoveredDate: action.payload });\r\n    }\r\n\r\n    case BsDatepickerActions.SELECT: {\r\n      const newState = {\r\n        selectedDate: action.payload,\r\n        view: state.view\r\n      };\r\n\r\n      const mode = state.view.mode;\r\n      const _date = action.payload || state.view.date;\r\n      const date = getViewDate(_date, state.minDate, state.maxDate);\r\n      newState.view = { mode, date };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.SET_OPTIONS: {\r\n      const newState = action.payload;\r\n      // preserve view mode\r\n      const mode = state.view.mode;\r\n      const _viewDate = isDateValid(newState.value) && newState.value\r\n        || isArray(newState.value) && isDateValid(newState.value[0]) && newState.value[0]\r\n        || state.view.date;\r\n      const date = getViewDate(_viewDate, newState.minDate, newState.maxDate);\r\n      newState.view = { mode, date };\r\n      // update selected value\r\n      if (newState.value) {\r\n        // if new value is array we work with date range\r\n        if (isArray(newState.value)) {\r\n          newState.selectedRange = newState.value;\r\n        }\r\n\r\n        // if new value is a date -> datepicker\r\n        if (newState.value instanceof Date) {\r\n          newState.selectedDate = newState.value;\r\n        }\r\n\r\n        // provided value is not supported :)\r\n        // need to report it somehow\r\n      }\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    // date range picker\r\n    case BsDatepickerActions.SELECT_RANGE: {\r\n      const newState = {\r\n        selectedRange: action.payload,\r\n        view: state.view\r\n      };\r\n\r\n      const mode = state.view.mode;\r\n      const _date = action.payload && action.payload[0] || state.view.date;\r\n      const date = getViewDate(_date, state.minDate, state.maxDate);\r\n      newState.view = { mode, date };\r\n\r\n      return Object.assign({}, state, newState);\r\n    }\r\n\r\n    case BsDatepickerActions.SET_MIN_DATE: {\r\n      return Object.assign({}, state, {\r\n        minDate: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_MAX_DATE: {\r\n      return Object.assign({}, state, {\r\n        maxDate: action.payload\r\n      });\r\n    }\r\n    case BsDatepickerActions.SET_IS_DISABLED: {\r\n      return Object.assign({}, state, {\r\n        isDisabled: action.payload\r\n      });\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction calculateReducer(state: BsDatepickerState): BsDatepickerState {\r\n  // how many calendars\r\n  const displayMonths = state.displayMonths;\r\n  // use selected date on initial rendering if set\r\n  let viewDate = state.view.date;\r\n\r\n  if (state.view.mode === 'day') {\r\n    state.monthViewOptions.firstDayOfWeek = getLocale(state.locale).firstDayOfWeek();\r\n    const monthsModel = new Array(displayMonths);\r\n    for (let monthIndex = 0; monthIndex < displayMonths; monthIndex++) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsModel[monthIndex] = calcDaysCalendar(\r\n        viewDate,\r\n        state.monthViewOptions\r\n      );\r\n      viewDate = shiftDate(viewDate, { month: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsModel });\r\n  }\r\n\r\n  if (state.view.mode === 'month') {\r\n    const monthsCalendar = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarModel = new Array(displayMonths);\r\n\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: yearsPerCalendar });\r\n    }\r\n\r\n    return Object.assign({}, state, { yearsCalendarModel });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction formatReducer(state: BsDatepickerState,\r\n                       action: Action): BsDatepickerState {\r\n  if (state.view.mode === 'day') {\r\n    const formattedMonths = state.monthsModel.map((month, monthIndex) =>\r\n      formatDaysCalendar(month, getFormatOptions(state), monthIndex)\r\n    );\r\n\r\n    return Object.assign({}, state, { formattedMonths });\r\n  }\r\n\r\n  // how many calendars\r\n  const displayMonths = state.displayMonths;\r\n  // check initial rendering\r\n  // use selected date on initial rendering if set\r\n  let viewDate = state.view.date;\r\n\r\n  if (state.view.mode === 'month') {\r\n    const monthsCalendar = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      monthsCalendar[calendarIndex] = formatMonthsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 1 });\r\n    }\r\n\r\n    return Object.assign({}, state, { monthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarModel = new Array(displayMonths);\r\n    for (\r\n      let calendarIndex = 0;\r\n      calendarIndex < displayMonths;\r\n      calendarIndex++\r\n    ) {\r\n      // todo: for unlinked calendars it will be harder\r\n      yearsCalendarModel[calendarIndex] = formatYearsCalendar(\r\n        viewDate,\r\n        getFormatOptions(state)\r\n      );\r\n      viewDate = shiftDate(viewDate, { year: 16 });\r\n    }\r\n\r\n    return Object.assign({}, state, { yearsCalendarModel });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction flagReducer(state: BsDatepickerState,\r\n                     action: Action): BsDatepickerState {\r\n  if (state.view.mode === 'day') {\r\n    const flaggedMonths = state.formattedMonths.map(\r\n      (formattedMonth, monthIndex) =>\r\n        flagDaysCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredDate: state.hoveredDate,\r\n          selectedDate: state.selectedDate,\r\n          selectedRange: state.selectedRange,\r\n          displayMonths: state.displayMonths,\r\n          monthIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { flaggedMonths });\r\n  }\r\n\r\n  if (state.view.mode === 'month') {\r\n    const flaggedMonthsCalendar = state.monthsCalendar.map(\r\n      (formattedMonth, monthIndex) =>\r\n        flagMonthsCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredMonth: state.hoveredMonth,\r\n          displayMonths: state.displayMonths,\r\n          monthIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { flaggedMonthsCalendar });\r\n  }\r\n\r\n  if (state.view.mode === 'year') {\r\n    const yearsCalendarFlagged = state.yearsCalendarModel.map(\r\n      (formattedMonth, yearIndex) =>\r\n        flagYearsCalendar(formattedMonth, {\r\n          isDisabled: state.isDisabled,\r\n          minDate: state.minDate,\r\n          maxDate: state.maxDate,\r\n          hoveredYear: state.hoveredYear,\r\n          displayMonths: state.displayMonths,\r\n          yearIndex\r\n        })\r\n    );\r\n\r\n    return Object.assign({}, state, { yearsCalendarFlagged });\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction getFormatOptions(state: BsDatepickerState): DatepickerFormatOptions {\r\n  return {\r\n    locale: state.locale,\r\n\r\n    monthTitle: state.monthTitle,\r\n    yearTitle: state.yearTitle,\r\n\r\n    dayLabel: state.dayLabel,\r\n    monthLabel: state.monthLabel,\r\n    yearLabel: state.yearLabel,\r\n\r\n    weekNumbers: state.weekNumbers\r\n  };\r\n}\r\n\r\n/**\r\n * if view date is provided (bsValue|ngModel) it should be shown\r\n * if view date is not provider:\r\n * if minDate>currentDate (default view value), show minDate\r\n * if maxDate<currentDate(default view value) show maxDate\r\n */\r\nfunction getViewDate(viewDate: Date | Date[], minDate: Date, maxDate: Date) {\r\n  const _date = Array.isArray(viewDate) ? viewDate[0] : viewDate;\r\n\r\n  if (minDate && isAfter(minDate, _date, 'day')) {\r\n    return minDate;\r\n  }\r\n\r\n  if (maxDate && isBefore(maxDate, _date, 'day')) {\r\n    return maxDate;\r\n  }\r\n\r\n  return _date;\r\n}\r\n"]}