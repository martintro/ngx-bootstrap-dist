{"version":3,"sources":["../../../.tmp/chronos/units/day-of-year.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AAChD,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAC;AAClE,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAC/C,OAAO,EAAE,eAAe,EAAE,MAAM,cAAc,CAAC;AAC/C,OAAO,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAGzC,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,MAAM,wBAAwB,CAAC;AAE7C,aAAa;AAEb,cAAc,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,EAC9C,UAAU,IAAU;IAClB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;AAGL,UAAU;AAEV,YAAY,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AAEjC,WAAW;AAEX,eAAe,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;AAEhC,aAAa,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;AAChC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC9B,aAAa,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,EAC3B,UAAU,KAAa,EAAE,KAAgB,EAAE,MAAyB;IAClE,MAAM,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;IAEjC,MAAM,CAAC,MAAM,CAAC;AAChB,CAAC,CAAC,CAAC;AAEL,MAAM,uBAAuB,IAAU;IACrC,IAAM,KAAK,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACpC,IAAM,KAAK,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACrC,IAAM,QAAQ,GAAG,KAAK,GAAG,KAAK,CAAC;IAC/B,IAAM,MAAM,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;IAEnC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAC3C,CAAC;AAED,MAAM,uBAAuB,IAAU,EAAE,KAAa;IACpD,IAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;IAErC,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,KAAK,CAAC,CAAC;AAC/C,CAAC","file":"day-of-year.js","sourceRoot":"","sourcesContent":["import { addFormatToken } from '../format/format';\r\nimport { startOf } from '../utils/start-end-of';\r\nimport { addRegexToken, match1to3, match3 } from '../parse/regex';\r\nimport { addParseToken } from '../parse/token';\r\nimport { addUnitPriority } from './priorities';\r\nimport { addUnitAlias } from './aliases';\r\nimport { DateArray, DateFormatterOptions } from '../types';\r\nimport { DateParsingConfig } from '../create/parsing.types';\r\nimport { toInt } from '../utils/type-checks';\r\nimport { add } from '../moment/add-subtract';\r\n\r\n// FORMATTING\r\n\r\naddFormatToken('DDD', ['DDDD', 3, false], 'DDDo',\r\n  function (date: Date): string {\r\n    return getDayOfYear(date).toString(10);\r\n  });\r\n\r\n\r\n// ALIASES\r\n\r\naddUnitAlias('dayOfYear', 'DDD');\r\n\r\n// PRIORITY\r\n\r\naddUnitPriority('dayOfYear', 4);\r\n\r\naddRegexToken('DDD', match1to3);\r\naddRegexToken('DDDD', match3);\r\naddParseToken(['DDD', 'DDDD'],\r\n  function (input: string, array: DateArray, config: DateParsingConfig): DateParsingConfig {\r\n    config._dayOfYear = toInt(input);\r\n\r\n    return config;\r\n  });\r\n\r\nexport function getDayOfYear(date: Date): number {\r\n  const date1 = +startOf(date, 'day');\r\n  const date2 = +startOf(date, 'year');\r\n  const someDate = date1 - date2;\r\n  const oneDay = 1000 * 60 * 60 * 24;\r\n\r\n  return Math.round(someDate / oneDay) + 1;\r\n}\r\n\r\nexport function setDayOfYear(date: Date, input: number): Date {\r\n  const dayOfYear = getDayOfYear(date);\r\n\r\n  return add(date, (input - dayOfYear), 'day');\r\n}\r\n"]}